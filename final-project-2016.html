<!DOCTYPE html>
<html>
  <head>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.12.2/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.12.2/mapbox-gl.css' rel='stylesheet' />


<style>

h1{
  font-family:verdana;
  font-size:20px;
  text-align: center;
  padding:30px;
  display:block;
  width: 100%;
  margin: 0px auto;

}

h2{
  font-family:verdana;
  font-size:14px;
  text-align: center;

}

body {
  display:block;
  width: 100%;
  margin-right: 10%;
  margin-left: 10%;
}

.roof-top-thumb {
  width: 280px;
  height: 280px;
  display: block;
  float: left;
  border-radius:25px;
  display: inline-block;
  /*-webkit-transition: all .5s ease;
     -moz-transition: all .5s ease;
       -o-transition: all .5s ease;
      -ms-transition: all .5s ease;
          transition: all .5s ease;*/
}

/*.roof-top-thumb:hover {
  width: 280px;
  height: 280px;
}*/


.roof-top-popup
{
    position:absolute;
    top:0px;
    left:50%;
    margin:210px auto;
    width:554px;
    height:370px;
    font-family:verdana;
    font-size:13px;
    padding:25px;
    color:#000;
    background-color:rgba(255,255,255,.8);
    border:2px solid grey;
    z-index:100000000000000000;
    border-radius:25px;
    margin-top: 180px;
    margin-left: -223px;

}

.cancel
{
    display:relative;
    cursor:pointer;
    margin:0;
    float:right;
    height:10px;
    width:14px;
    padding:0 0 5px 0;
    background-color:black;
    text-align:center;
    font-weight:bold;
    font-size:11px;
    color:white;
    border-radius:3px;
    z-index:100000000000000000;

}

.hidden {
  display: none;
}

#map-eltecho {
  width:500px;
  height: 100px;
}

#map-dirtyhabit{
  width:500px;
  height: 100px;
}

#map-brestaurant {
  width:500px;
  height: 100px;
}

#map-bluestem {
  width:500px;
  height: 100px;
}

#map-620jones {
  width:500px;
  height: 100px;
}

#map-calacademy {
  width:500px;
  height: 100px;
}

#map-theview {
  width:500px;
  height: 100px;
}

#map-topofthemark {
  width:500px;
  height: 100px;
}

footer {
  display:center;
}

.wrapper {
  width:100%;
  max-width: 1200px;
  margin:0 auto;
}

</style>
  </head>
  <body>
      <div class="wrapper">
        <div class="header">
          <h1>Rooftop Bars in San Francisco</h1>
        </div>


  <div id="eltecho" class="roof-top" data-lat="-122.419287" data-lng="37.756634">
    <img src="http://i.imgur.com/GenRRK9.jpg" class="roof-top-thumb">
    <div class="roof-top-popup hidden">
              <div class="cancel"></div>
                    <h2>El Techo</h2>
                  This spot has one of the best views of the SF skyline. Deep-rooted in the middle of the Mission, El Techo radiates culture yet maintains class and sophistication. It is romantic enough for a date-night, or lively enough for a girls night out. The glass shield helps prevent you from being too chilly from the wind, and the large umbrellas protect you from the sun. Get multiple little plates to share with the whole table to experience multiple flavors. Want a liquor jacket? Try the El Joven Picante or a pitcher of the house margaritas. Small caveat: no reservations...
                    <p><b>Address:</b> 2518 Mission St San Francisco</p>
                    <p><b>Opening hours:</b> Mon-Thur 4-11pm; Fri 4pm-1am; Sat 11am-1am; Sun 11am-11pm</p>
      <div id="map-eltecho"></div>

    </div>
  </div>

  <div id="dirtyhabit" class="roof-top" data-lat="-122.405832" data-lng="37.785151">
    <img src="http://i.imgur.com/xvfN0ud.jpg" class="roof-top-thumb">
    <div class="roof-top-popup hidden">
              <div class="cancel"></div>
                  <h2>Dirty Habit</h2>

                  This swanky SoMa rooftop feels downright cozy-especially when nursing a tumbler of bourbon beside the fire pit. Bar manager Brian Means, formerly of Fifth Floor and Zero Zero, is a brown spirits enthusiast, serving more than 300 rare varieties from around the world. Creative seasonal drinks are served in vintage cocktail glasses and incorporate tea, spices and fresh herbs. And though the Habit's patrons are largely a suit-and-stiletto set-some sipping "communal" cocktails designed for sharing-the bar doesn't take itself too seriously. The beer selection ranges from PBR to La Chouffe and beer-and-shot pairings come in tongue-in-cheek combinations like the Red-Headed Stepchild: an Heretic Red IPA and a Pierre Ferrand 1840 cognac ($10).
                  <p><b>Address:</b> 12 4th St San Francisco </p>
                  <p><b>Opening hours:</b> Mon-Sat 5-10pm</p>
      <div id="map-dirtyhabit"></div>

    </div>
  </div>


  <div id="620jones" class="roof-top" data-lat="-122.412987" data-lng="37.787177">
    <img src="http://i.imgur.com/T7FdF96.jpg" class="roof-top-thumb">
    <div class="roof-top-popup hidden">
              <div class="cancel"></div>
                  <h2>620 Jones</h2>
                        Ok, this spot is sweet. Do not get scared by the word "Tenderloin!" 620 Jones is hidden behind massive doors and is one of the most trendy, industrial, outdoor drinking venues in the  city. With heat lamps to help keep you warm, the open-aired venue provides lots of space that is also great for private parties or work events. They also have $3 beer specials and $5 wine and cocktail specials. Im not going to lie, the view isn't great (unless you like the look of the Loin), but the outdoor patio as spacious and fun. The crowd is trendy, young, and stylish.  The charcuterie plate and french fries are a great addition to any happy hour. The Brussels sprouts are also clutch. Small caveat: There can sometimes be a line to get in, if you go on the later side on a Friday or Saturday night.
                        <p><b>Address:</b> 620 Jones St San Francisco </p>
                        <p><b>Opening hours:</b> Tue-Thu 5pm-midnight, Fri-Sat 5pm-2am, Sun 11am-3pm</p>
      <div id="map-620jones"></div>

    </div>
  </div>


  <div id="bluestem" class="roof-top" data-lat="-122.404952" data-lng="37.785955">
    <img src="http://i.imgur.com/s8D4GKJ.jpg" class="roof-top-thumb">
    <div class="roof-top-popup hidden">
              <div class="cancel"></div>
                  <h2>Bluestem Brasserie</h2>
                  Comparatively low but undeniably lovely, this open-air terrace is better suited to gazing over Market Street than epic skyline views. A popular post-work spot, Bluestem is beloved for its thoughtful cocktails and classy but casual ambiance. The Toasted Sage Gimlet is a warm weather favorite, while the dessert-like Karl the Fog-brandy, Benedictine, Frangelico, coffee liqueur, brewed coffee and toasted marshmallow meringue-is a warming sipper when our city mascot rolls in. (Thankfully, Bluestem doesn't skimp on the booze or the heat lamps.) The extensive wine list is available by the glass, half-liter or liter, and you'll find an impressive assortment of local wines on tap. Swing by for happy hour (4-6:30pm), when a percentage of the bar's proceeds benefits philanthropic causes.
                  <p><b>Address:</b>One Yerba Buena Ln San Francisco</p>
                  <p><b>Opening hours:</b>Daily 11am-11pm</p>
          <div id="map-bluestem"></div>

    </div>
  </div>


  <div id="calacademy" class="roof-top" data-lat="-122.466105" data-lng="37.769829">
    <img src="http://i.imgur.com/hwjC8yo.jpg" class="roof-top-thumb">
    <div class="roof-top-popup hidden">
              <div class="cancel"></div>
                    <h2>NightLife at California Academy of Sciences</h2>
                    Science museums and booze traditionally don't mix, but California Academy of Sciences throws a raucous party for imbibing and nerding out every Thursday night ($10-$12 cover). Grab a drink (nothing fancy: beer, wine or liquor) and head up to the Renzo Piano-designed roof garden, where you'll be rewarded with views of the de Young Museum, Sutro Tower and Golden Gate Park. The rolling rooftop terrain, which symbolizes the seven hills of San Francisco, is covered with millions of bird- and butterfly-luring native plants. After sunset, it's a prime spot for stargazing through the museum's high-powered telescopes. Layer up: This is one of the prettiest, but chilliest roof decks in the city.
                    <p><b>Address:</b> Golden Gate Park 55 Concourse Dr San Francisco </p>
                    <p><b>Opening hours:</b>Mon-Sat 9:30am-5pm; Sun 11am-5pm</p>
      <div id="map-calacademy"></div>

    </div>
  </div>

  <div id="brestaurant" class="roof-top" data-lat="-122.401687" data-lng="37.784295">
    <img src="http://i.imgur.com/wDjpmlB.jpg" class="roof-top-thumb">
    <div class="roof-top-popup hidden">
              <div class="cancel"></div>
                    <h2>B Restaurant and Bar</h2>
                    Perched atop the Moscone Center, B bar has panoramic views of Yerba Buena Garden, St. Patrick's Church, the Jewish Museum Plaza and the downtown skyline. The landscaped, fountain-decked terrace is a go-to spot for the SoMa after-work crowd, which congregates amid pitchers of sangria and trays of oysters ($1 each from 4:30-6:30pm). Bar manager Marjian Simovics's intriguing cocktails deftly incorporate ingredients like lavender and cinnamon bitters and wine reductions. (We recommend the So Tough, a cocktail made with rye, malbec reduction, angostura bitters and orange zest.) You'll also find a respectable selection of rye, bourbon, scotch and whisky and beer by the pint or pitcher.
                    <p><b>Address:</b>720 Howard St San Francisco</p>
                    <p><b>Opening hours:</b> Tue-Fri 11:30am-9pm, Sat-Sun noon-4pm</p>
      <div id="map-brestaurant"></div>

    </div>
  </div>

  <div id="topofthemark" class="roof-top" data-lat="-122.410189" data-lng="37.791405">
    <img src="http://i.imgur.com/HQlLLth.jpg" class="roof-top-thumb">
    <div class="roof-top-popup hidden">
              <div class="cancel"></div>
                    <h2>Top of the Mark</h2>
                    Originally opened in 1939, the Top of the Mark is a stately, storied bar. It was once a tradition for U.S. Navy officers to belly up for a send-off drink before shipping out during World War II. (The northwest corner, dubbed the "Weepers' Corner," is where their girlfriends would watch the ships depart the bay.) The vibe has changed significantly since then-Solange Knowles dropped in to DJ the bar's 75th anniversary party-but the sweeping view remains, encompassing the Financial District, Bay Bridge, Chinatown, North Beach and Golden Gate Bridge. Though the menu offers more than 100 variations on the martini, you're best sticking with classics. Bands play live music several nights a week; check the online calendar for details.
                    <p><b>Address:</b>1 Nob Hill San Francisco </p>
                    <p><b>Opening hours:</b>Mon-Thu 4:30-11:30pm; Fri-Sat 4:30pm-12:30am; Sun 10am-1pm, 5-10pm</p>
      <div id="map-topofthemark"></div>

    </div>
  </div>

  <div id="theview" class="roof-top" data-lat="-122.404363" data-lng="37.785360">
    <img src="http://i.imgur.com/cndyhoh.jpg" class="roof-top-thumb">
    <div class="roof-top-popup hidden">
              <div class="cancel"></div>
                    <h2>The View</h2>
                    This 39th story bar atop the Marriott Marquis artfully frames the city in its arched, floor-to-ceiling window. Though the decor is admittedly dated and the crowd can be touristy, even locals agree that this is one of the best barside views in the city. Seating is first come, first serve, so arrive early to stake out one of the coveted tables along the window. (Better yet if you catch the sunset.) The cocktails, served in low, round tumblers, are simple, strong and pricey. The namesake Marquis cocktail blends 209 gin, fresh citrus juice and Grand Marnier Cuvee du Centenaire (for a whopping $18), while the Golden Gate is a sugary mix of Jameson, St. Germaine, cranberry and ginger ale.
                    <p><b>Address:</b>780 Mission St, 39th floor San Francisco </p>
                    <p><b>Opening hours:</b>Daily 4pm-1am</p>
      <div id="map-theview"></div>

    </div>
  </div>
</div>


<script>
var imgs = document.querySelectorAll("img");
var closeButtons = document.querySelectorAll(".cancel");

//allowing the program to be run repeadedly for all

for (var i = 0; i < imgs.length; i++) {
  imgs[i].addEventListener("click", roofTopLoad);
}

for (var i = 0; i < closeButtons.length; i++) {
  closeButtons[i].addEventListener("click", closePopup);
}

//closing popup
function closePopup(event) {
  // event.target.parentElement.classList.add("hidden");
  var visibleRoofTop = document.querySelector(".roof-top-popup:not(.hidden)");
  visibleRoofTop.classList.add("hidden");
}

//loading popup
function roofTopLoad(event) {
  event.preventDefault();
  //define the parent tag
 //event.target defines whatever was clicked
  var imgThatWasClicked = event.target;
  var correspondingRoofTop  = imgThatWasClicked.parentElement;
  var correspondingPopup = imgThatWasClicked.nextElementSibling;
//what is the div of the image that was clicked : ".roof-top")
//targets the next sibling div to display (roof-top-popup)
//remove "hidden" from the class to display the popup
  correspondingPopup.classList.remove('hidden');

  // Show the map
  mapboxgl.accessToken = 'pk.eyJ1IjoibGluZHNleXJiYXJuZXR0IiwiYSI6ImNpajNzMTd2MjAwMGp1ZGx2ejFueTN1bzkifQ.mmkydAUIBV87LX9Gvm9Cig';
  var map = new mapboxgl.Map({
      container: "map-" + correspondingRoofTop.id,
      style: 'mapbox://styles/mapbox/streets-v8',
      center: [
        parseFloat(correspondingRoofTop.getAttribute("data-lat")),
        parseFloat(correspondingRoofTop.getAttribute("data-lng"))
      ],
      //get the attribute "data-lat" for the corresponding rooftop that was clicked, parse float parses that string argument and makes that a number.
      zoom: 15,
      interactive: true

});

//add the marker
map.on('style.load', function () {
    map.addSource("markers", {
        "type": "geojson",
        "data": {
            "type": "FeatureCollection",
            "features": [{
                "type": "Feature",
                "geometry": {
                    "type": "Point",
                    "coordinates": [parseFloat(correspondingRoofTop.getAttribute("data-lat")),
                    parseFloat(correspondingRoofTop.getAttribute("data-lng"))]
                },
                "properties": {
                    "marker-symbol": "star"
                }
            }]
        }
    });

    map.addLayer({
        "id": "markers",
        "type": "symbol",
        "source": "markers",
        "layout": {
            "icon-image": "{marker-symbol}-15",
            "text-field": "{title}",
            "text-font": ["Open Sans Semibold", "Arial Unicode MS Bold"],
            "text-offset": [0, 0.6],
            "text-anchor": "top"
        },
        "paint": {
            "text-size": 12
        }
    });
    });

}

</script>
</body>

<!-- soundcloud plugin -->
<footer>
    <iframe width="50%" height="166" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/54737211&amp;color=ff5500&amp;auto_play=true&amp;hide_related=false&amp;show_comments=true&amp;show_user=true&amp;show_reposts=false"></iframe>
</footer>
</html>
